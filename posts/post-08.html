<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="번들 분석, tree shaking 함정, dynamic import, 이미지/폰트 최적화, 체감 vs 기술 성능">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://ikakao.kr/posts/post-08.html">
  <title>프론트엔드 번들 최적화 — 체감 성능으로 연결되는 실전 체크리스트 | DevInsight</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.min.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2446729462046987"
    crossorigin="anonymous"></script>
  <style>
    :root { --font: "Pretendard Variable", "Pretendard", sans-serif; --ink: #1a1a2e; --muted: #6b6b7b; --bg: #f8f6f1; --card: #fff; --border: #d4d0c8; --accent: #c0392b; }
    body { margin: 0; font-family: var(--font); background: var(--bg); color: var(--ink); line-height: 1.85; }
    .wrap { max-width: 800px; margin: 0 auto; padding: 48px 20px 80px; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 34px; }
    h1 { margin: 0 0 10px; font-size: 2rem; line-height: 1.35; }
    h2 { margin: 36px 0 12px; font-size: 1.25rem; border-bottom: 1px solid var(--border); padding-bottom: 6px; }
    h3 { margin: 20px 0 8px; font-size: 1.05rem; color: var(--accent); }
    p { margin: 0 0 16px; }
    ul, ol { margin: 0 0 16px 20px; }
    li { margin-bottom: 8px; }
    pre { background: #2d2d3f; color: #e6e6e6; border-radius: 10px; padding: 14px 16px; overflow-x: auto; font-size: 0.88rem; margin: 0 0 16px; }
    code { background: #eee; padding: 1px 5px; border-radius: 4px; font-size: 0.88em; }
    pre code { background: none; padding: 0; }
    .meta { color: var(--muted); font-size: 0.92rem; margin-bottom: 24px; }
    .note { background: #f3efe6; border: 1px solid var(--border); border-radius: 10px; padding: 12px 16px; margin: 16px 0; font-size: 0.95rem; }
    .back { display: inline-block; margin-top: 28px; color: var(--accent); text-decoration: none; font-weight: 700; }
    table { width: 100%; border-collapse: collapse; margin: 12px 0 16px; }
    th, td { border: 1px solid var(--border); padding: 10px; text-align: left; }
    th { background: #f3efe6; }
    blockquote { border-left: 3px solid var(--accent); margin: 16px 0; padding: 8px 16px; color: var(--muted); }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/gowun-batang@5.0.20/700.css">
  <link rel="stylesheet" href="/style.css">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "프론트엔드 번들 최적화 — 체감 성능으로 연결되는 실전 체크리스트",
    "author": { "@type": "Person", "name": "ian.lab" },
    "publisher": { "@type": "Person", "name": "ian.lab" },
    "datePublished": "2024-09-18",
    "mainEntityOfPage": { "@type": "WebPage", "@id": "https://ikakao.kr/posts/post-08.html" }
  }
  </script>
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <a class="logo" href="/">Dev<span>Insight</span></a>
      <nav class="nav-links" aria-label="주요 메뉴">
        <a href="/">홈</a>
        <a href="/archive.html">전체 글</a>
        <a href="/about.html">소개</a>
        <a href="/contact.html">연락처</a>
      </nav>
    </div>
  </header>

  <div class="container-narrow" style="padding:0 20px;">
    <nav class="breadcrumb" aria-label="경로">
      <a href="/">홈</a><span class="sep">/</span>
      <a href="/archive.html">Frontend</a><span class="sep">/</span>
      <span>현재 글</span>
    </nav>
  </div>

  <main class="post-wrap">
    <article class="post-card">
      <h1>프론트엔드 번들 최적화 — 체감 성능으로 연결되는 실전 체크리스트</h1>
      <p class="meta">게시일: 2024년 9월 18일 · 14분 읽기</p>

<p>번들 사이즈 줄였는데 사용자는 못 느꼈다. 체감 속도는 다른 문제다.</p>

<p>우리 팀이 음성 채팅 웹앱의 번들을 2.4MB → 1.1MB로 줄였다. 하지만 사용자 만족도는 크게 달라지지 않았다. 뭐가 문제였나?</p>

<h3>번들 분석 도구</h3>

<p>먼저 어디가 무거운지 파악해야 한다:</p>

<pre><code>npm install --save-dev webpack-bundle-analyzer
</code></pre>

<p>webpack.config.js:</p>

<pre><code>const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;

module.exports = {
    plugins: [
        new BundleAnalyzerPlugin({
            analyzerMode: 'static',
            openAnalyzer: true,
        }),
    ],
};
</code></pre>

<p>우리 앱의 번들 분석 결과:</p>

<blockquote>
<p>react-dom: 312KB (15%)<br>
socket.io-client: 198KB (10%)<br>
waveform-js: 287KB (14%) ← 음성 파형 그리기<br>
lodash: 89KB (4%) ← 불필요<br>
moment.js: 67KB (3%) ← date-fns로 대체 가능</p>
</blockquote>

<h3>Tree Shaking 함정</h3>

<p>이상한 점: lodash를 제거했는데도 번들 크기가 크게 줄지 않았다.</p>

<p>원인: tree shaking이 완벽하지 않다.</p>

<p>나쁜 예:</p>

<pre><code>// ❌ Tree shaking 안 됨
import { debounce } from 'lodash';

export function MyComponent() {
    // ...
}
</code></pre>

<p>Webpack은 "debounce가 쓰이나?"를 확인한다. 쓰이더라도, 같은 파일에서 다른 lodash 함수가 쓰이면 전체 lodash가 포함될 수 있다.</p>

<p>좋은 예:</p>

<pre><code>// ✅ Tree shaking 됨
import debounce from 'lodash-es/debounce';
</code></pre>

<p>lodash-es는 ES6 모듈로, tree shaking이 완벽하다.</p>

<p>아니면 처음부터 lodash를 안 쓴다:</p>

<pre><code>// ✅ 최고
function debounce(func, delay) {
    let timeout;
    return function(...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() =&gt; func(...args), delay);
    };
}
</code></pre>

<p>이 함수는 10줄이다. lodash 전체를 쓸 필요가 없다.</p>

<h3>Dynamic Import로 지연 로딩</h3>

<p>모든 코드를 한 번에 로드할 필요가 없다.</p>

<p>처음에는:</p>

<pre><code>// main.tsx
import CallView from './pages/CallView';
import SettingsView from './pages/SettingsView';
import HistoryView from './pages/HistoryView';

export function App() {
    if (route === 'call') return &lt;CallView /&gt;;
    if (route === 'settings') return &lt;SettingsView /&gt;;
    if (route === 'history') return &lt;HistoryView /&gt;;
}

// 모든 페이지 코드가 메인 번들에 포함됨
</code></pre>

<p>개선:</p>

<pre><code>// ✅ 동적 import
import { lazy, Suspense } from 'react';

const CallView = lazy(() => import('./pages/CallView'));
const SettingsView = lazy(() => import('./pages/SettingsView'));
const HistoryView = lazy(() => import('./pages/HistoryView'));

export function App() {
    return (
        &lt;Suspense fallback={&lt;Loading /&gt;}&gt;
            {route === 'call' && &lt;CallView /&gt;}
            {route === 'settings' && &lt;SettingsView /&gt;}
            {route === 'history' && &lt;HistoryView /&gt;}
        &lt;/Suspense&gt;
    );
}

// 각 페이지가 별도 청크로 분할됨
// 필요할 때만 로드
</code></pre>

<p>효과: 초기 로딩 번들 40% 감소</p>

<h3>이미지 최적화</h3>

<p>이미지가 생각보다 크다.</p>

<p>우리 앱의 이미지:</p>

<blockquote>
<p>avatar.png: 512KB (고해상도, 4000x4000)<br>
background.jpg: 1.2MB<br>
icon-set.svg: 87KB</p>
</blockquote>

<p>최적화:</p>

<pre><code>// 1. 이미지 리사이징
// ❌ 4000x4000 -> CSS로 200x200으로 표시
// ✅ 실제 200x200 이미지 사용

// 2. 포맷 변경
// ❌ PNG (512KB)
// ✅ WebP (156KB) + PNG fallback

// 3. SVG 스프라이트
// ❌ 각 아이콘이 개별 파일
// ✅ 한 번에 로드, CSS로 표시
</code></pre>

<p>Webpack에서:</p>

<pre><code>module.exports = {
    module: {
        rules: [
            {
                test: /\.(png|jpg|jpeg|gif)$/i,
                type: 'asset',
                parser: {
                    dataUrlCondition: {
                        maxSize: 8 * 1024,  // 8KB 이상은 파일로
                    },
                },
                generator: {
                    filename: 'images/[name].[hash][ext]',
                },
            },
            {
                test: /\.svg$/,
                use: [
                    {
                        loader: '@svgr/webpack',
                        options: {
                            native: true,
                        },
                    },
                ],
            },
        ],
    },
};
</code></pre>

<h3>폰트 최적화</h3>

<p>웹폰트가 느린 경우가 많다:</p>

<pre><code>/* ❌ 나쁨: 블로킹 로딩 */
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700');

/* ✅ 좋음: 비동기 로딩 */
@font-face {
    font-family: 'Roboto';
    src: url('/fonts/roboto-400.woff2') format('woff2');
    font-weight: 400;
    font-display: swap;  // ← 중요!
}

@font-face {
    font-family: 'Roboto';
    src: url('/fonts/roboto-700.woff2') format('woff2');
    font-weight: 700;
}
</code></pre>

<p><code>font-display: swap</code>의 의미: 폰트 로드 중에도 fallback 폰트로 텍스트를 표시하라. 그러면 사용자가 텍스트를 읽을 수 있다.</p>

<p>Google Fonts 대신 self-hosted:</p>

<pre><code>// ✅ 자체 호스팅이 30% 빠름 (외부 도메인 DNS 조회 없음)
@font-face {
    font-family: 'Roboto';
    src: url('/fonts/roboto-400.woff2') format('woff2');
}
</code></pre>

<h3>Code Splitting: 라우트별 청크</h3>

<p>초기 로드에서:</p>

<blockquote>
<p>메인 청크: 500KB (필수)<br>
Settings 청크: 120KB (필요할 때)<br>
History 청크: 80KB (필요할 때)</p>
</blockquote>

<p>사용자가 Settings에 가지 않으면, 120KB를 안 내려받는다.</p>

<h3>Minification과 Compression</h3>

<p>webpack.config.js:</p>

<pre><code>const TerserPlugin = require('terser-webpack-plugin');
const CompressionPlugin = require('compression-webpack-plugin');

module.exports = {
    optimization: {
        minimize: true,
        minimizer: [
            new TerserPlugin({
                terserOptions: {
                    compress: {
                        drop_console: true,  // console.log 제거
                    },
                },
            }),
        ],
    },
    plugins: [
        new CompressionPlugin({
            algorithm: 'gzip',
            test: /\.(js|css|html|svg)$/,
            threshold: 10240,  // 10KB 이상
        }),
    ],
};
</code></pre>

<p>또한 서버는 Brotli compression을 지원해야 한다:</p>

<pre><code>// Nginx
http {
    gzip on;
    gzip_types application/javascript text/css;
    gzip_min_length 1000;
}
</code></pre>

<h3>체감 성능 vs 기술 성능</h3>

<p>우리가 놓친 부분:</p>

<blockquote>
<p>기술 성능: 번들 2.4MB → 1.1MB (54% 감소)<br>
사용자 체감: "앱이 약간 더 빠른 것 같은데?"</p>
</blockquote>

<p>이유:</p>

<ul>
<li>초기 로딩은 1초 정도 빨라짐 (유지 시간이 오래라서 누적이 크지 않음)</li>
<li>JavaScript 실행 시간은 크게 달라지지 않음</li>
<li>React 렌더링은 여전히 느림</li>
</ul>

<p>진짜 영향을 미치려면:</p>

<blockquote>
<p>1. First Contentful Paint 개선 (초기 렌더링)<br>
2. Interaction to Next Paint 개선 (버튼 클릭 반응성)<br>
3. 메인 스레드 blocking 제거</p>
</blockquote>

<p>우리가 해야 했던 것:</p>

<ul>
<li>React.memo로 불필요한 렌더링 제거</li>
<li>useCallback/useMemo로 함수 재생성 방지</li>
<li>Web Worker로 무거운 계산을 메인 스레드 밖으로</li>
</ul>

<h3>체크리스트</h3>

<blockquote>
<p>□ webpack-bundle-analyzer로 분석했는가?<br>
□ Tree shaking 설정 확인했는가? (side-effects: false)<br>
□ Lazy loading과 code splitting 적용했는가?<br>
□ 이미지 최적화 (resize, WebP) 했는가?<br>
□ 폰트 최적화 (font-display: swap) 했는가?<br>
□ gzip/brotli compression 설정했는가?<br>
□ 메인 스레드 blocking 제거했는가?<br>
□ Core Web Vitals 측정했는가? (Lighthouse)</p>
</blockquote>

<h3>결론</h3>

<p>번들 크기와 체감 성능은 다르다. 번들을 줄이는 것도 중요하지만, 사용자가 느끼는 속도는 렌더링과 상호작용이다.</p>

<p>최고의 최적화: 번들 줄이기 + 렌더링 최적화 + 인터랙션 개선</p>


      <div class="author-box">
        <div class="author-avatar">iL</div>
        <div class="author-info">
          <strong>ian.lab</strong>
          <p>28년 경력의 개발자. 실무에서 겪은 문제와 해결 과정을 기록합니다. 오류 제보는 <a href="/contact.html" style="color:var(--accent)">연락처</a>로 보내주세요.</p>
        </div>
      </div>

      <div class="related-posts">
        <h3>관련 글 더 보기</h3>
        <div class="related-list">
        <a class="related-item" href="/posts/post-02.html">
          <span class="ri-cat">Frontend</span>
          <span class="ri-title">TypeScript 5.x 실전 타입 패턴 — 유지보수 비용을 줄이는 방법</span>
        </a>
        <a class="related-item" href="/posts/post-21.html">
          <span class="ri-cat">Frontend</span>
          <span class="ri-title">Vite 설정 최적화 — 빌드 속도와 개발 경험 동시에 잡기</span>
        </a>
        <a class="related-item" href="/posts/post-76.html">
          <span class="ri-cat">Frontend</span>
          <span class="ri-title">CSS-in-JS 없이 스타일링 — CSS Modules + Tailwind 실전 조합</span>
        </a>
        </div>
      </div>
    </article>
</main>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-links">
        <a href="/">홈</a>
        <a href="/archive.html">전체 글</a>
        <a href="/about.html">소개</a>
        <a href="/contact.html">연락처</a>
        <a href="/editorial-policy.html">운영 원칙</a>
        <a href="/privacy.html">개인정보처리방침</a>
        <a href="/terms.html">이용약관</a>
      </div>
      <div class="footer-copy">
        &copy; 2026 DevInsight. All rights reserved.<br>
        기술 정보는 실제 사용 환경에 맞게 검토 후 적용하세요.
      </div>
    </div>
  </footer>
</body>
</html>