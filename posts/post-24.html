<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Interactive rebase, cherry-pick으로 깔끔한 히스토리 유지. Git bisect로 버그 찾기">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://ikakao.kr/posts/post-24.html">
  <title>Git 고급 사용법 — rebase, cherry-pick, bisect 실전 | DevInsight</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.min.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2446729462046987"
    crossorigin="anonymous"></script>
  <style>
    :root { --font: "Pretendard Variable", "Pretendard", sans-serif; --ink: #1a1a2e; --muted: #6b6b7b; --bg: #f8f6f1; --card: #fff; --border: #d4d0c8; --accent: #c0392b; }
    body { margin: 0; font-family: var(--font); background: var(--bg); color: var(--ink); line-height: 1.85; }
    .wrap { max-width: 800px; margin: 0 auto; padding: 48px 20px 80px; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 34px; }
    h1 { margin: 0 0 10px; font-size: 2rem; line-height: 1.35; }
    h2 { margin: 36px 0 12px; font-size: 1.25rem; border-bottom: 1px solid var(--border); padding-bottom: 6px; }
    h3 { margin: 20px 0 8px; font-size: 1.05rem; color: var(--accent); }
    p { margin: 0 0 16px; }
    ul, ol { margin: 0 0 16px 20px; }
    li { margin-bottom: 8px; }
    pre { background: #2d2d3f; color: #e6e6e6; border-radius: 10px; padding: 14px 16px; overflow-x: auto; font-size: 0.88rem; margin: 0 0 16px; }
    code { background: #eee; padding: 1px 5px; border-radius: 4px; font-size: 0.88em; }
    pre code { background: none; padding: 0; }
    .meta { color: var(--muted); font-size: 0.92rem; margin-bottom: 24px; }
    .note { background: #f3efe6; border: 1px solid var(--border); border-radius: 10px; padding: 12px 16px; margin: 16px 0; font-size: 0.95rem; }
    .back { display: inline-block; margin-top: 28px; color: var(--accent); text-decoration: none; font-weight: 700; }
    table { width: 100%; border-collapse: collapse; margin: 12px 0 16px; }
    th, td { border: 1px solid var(--border); padding: 10px; text-align: left; }
    th { background: #f3efe6; }
    blockquote { border-left: 3px solid var(--accent); margin: 16px 0; padding: 8px 16px; color: var(--muted); }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/gowun-batang@5.0.20/700.css">
  <link rel="stylesheet" href="/style.css">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Git 고급 사용법 — rebase, cherry-pick, bisect 실전",
    "author": { "@type": "Person", "name": "ian.lab" },
    "publisher": { "@type": "Person", "name": "ian.lab" },
    "datePublished": "2025-04-18",
    "mainEntityOfPage": { "@type": "WebPage", "@id": "https://ikakao.kr/posts/post-24.html" }
  }
  </script>
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <a class="logo" href="/">Dev<span>Insight</span></a>
      <nav class="nav-links" aria-label="주요 메뉴">
        <a href="/">홈</a>
        <a href="/archive.html">전체 글</a>
        <a href="/about.html">소개</a>
        <a href="/contact.html">연락처</a>
      </nav>
    </div>
  </header>

  <div class="container-narrow" style="padding:0 20px;">
    <nav class="breadcrumb" aria-label="경로">
      <a href="/">홈</a><span class="sep">/</span>
      <a href="/archive.html">개발 기초 &amp; 팁</a><span class="sep">/</span>
      <span>현재 글</span>
    </nav>
  </div>

  <main class="post-wrap">
    <article class="post-card">
      <h1>Git 고급 사용법 — rebase, cherry-pick, bisect 실전</h1>
      <p class="meta">게시일: 2025년 4월 18일 · 14분 읽기</p>

<h2>Git reset --hard로 3일치 작업을 날린 후부터</h2>

<p>3년 전 일이다. 급하게 코드를 수정해야 한다고 생각해서 <code>git reset --hard origin/main</code>을 쳤다. 잠깐, 내 로컬 브랜치에서? 네, 거기서. 결과? 3일 동안 작업한 코드가 모두 사라졌다.</p>

<p>그때 리더에게 보고하면서 "Git reflog가 구해줬다"고 했다. 그리고 그 이후로 Git의 고급 기능들을 제대로 배우기 시작했다. 이젠 저 정도의 실수로 당황하지 않는다.</p>

<h3>Interactive Rebase로 커밋 정리하기</h3>

<p>깔끔한 커밋 히스토리는 유지보수의 핵심이다. Interactive rebase는 이를 위한 가장 강력한 도구다.</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# 최근 5개 커밋을 정리하기
$ git rebase -i HEAD~5

# 이 명령어를 실행하면 에디터가 열린다:
pick 1a2b3c4 Initial commit
pick 5d6e7f8 Add user model
pick 9g0h1i2 Add user tests
pick 3j4k5l6 Fix typo
pick 7m8n9o0 Update user model

# 이제 이 커밋들을 수정할 수 있다
# 명령어:
#   pick   = 커밋 유지
#   reword = 커밋 메시지 수정
#   squash = 이전 커밋에 합치기
#   fixup  = 이전 커밋에 합치기 (메시지 제거)
#   drop   = 커밋 삭제
</code></pre>

<p>보통 나는 이렇게 한다:</p>

<pre><code>&lt;?xml version="1.0"?&gt;
pick 1a2b3c4 Initial commit
pick 5d6e7f8 Add user model
squash 9g0h1i2 Add user tests
fixup 3j4k5l6 Fix typo
squash 7m8n9o0 Update user model
</code></pre>

<p>이렇게 하면 최종적으로 2개의 커밋만 남는다. "Add user model"과 그 테스트, 그리고 "Update user model"이 하나로 합쳐진다. 히스토리가 훨씬 깔끔해진다.</p>

<h3>Rebase의 실전 워크플로우</h3>

<p>팀 프로젝트에선 rebase 전략이 중요하다. 우리 팀이 쓰는 패턴을 소개하겠다.</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# 1. feature 브랜치 생성
$ git checkout -b feature/user-auth

# 2. 작업하면서 커밋 (로컬에서는 자유롭게)
$ git commit -m "WIP: user auth implementation"
$ git commit -m "WIP: add login form"
$ git commit -m "Add authentication"

# 3. 메인 브랜치 최신화
$ git fetch origin
$ git rebase origin/main

# 4. 로컬 커밋 정리
$ git rebase -i origin/main

# 에디터:
pick 1a2b3c4 WIP: user auth implementation
squash 5d6e7f8 WIP: add login form
reword 9g0h1i2 Add authentication

# 5. Reword에서 메시지 수정
# "Add user authentication with login form"

# 6. 푸시
$ git push origin feature/user-auth --force-with-lease
</code></pre>

<p><code>--force-with-lease</code>는 <code>--force</code>보다 안전하다. 다른 누군가가 같은 브랜치에 푸시했으면 실패하니까.</p>

<h3>Cherry-pick으로 선택적 커밋 적용</h3>

<p>긴급 핫픽스를 배포해야 할 때 cherry-pick이 유용하다.</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# develop 브랜치에서 버그 수정
$ git checkout develop
$ git commit -m "Fix: critical bug in payment processing"
# 커밋 해시: a1b2c3d

# 지금 바로 main 브랜치에도 적용해야 함
$ git checkout main
$ git cherry-pick a1b2c3d

# 완료! main에도 같은 커밋이 적용됨
</code></pre>

<p>복수의 커밋을 cherry-pick할 수도 있다:</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# 연속된 커밋들
$ git cherry-pick a1b2c3d^..9z8y7x6

# 또는 개별적으로
$ git cherry-pick a1b2c3d e4f5g6h i7j8k9l
</code></pre>

<p>주의할 점: cherry-pick은 기본적으로 새로운 커밋을 만든다. 원래 커밋과는 다른 해시를 가진다.</p>

<h3>Git Bisect로 버그 찾기</h3>

<p>언제부터 버그가 생겼는지 찾아야 할 때가 있다. 수백 개의 커밋을 하나하나 확인할 순 없다. 이때 bisect를 쓴다.</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# 1. Bisect 시작
$ git bisect start

# 2. 현재 커밋을 "bad" (버그 있음)로 표시
$ git bisect bad

# 3. 버그가 없는 커밋을 찾아서 "good"으로 표시
$ git bisect good v1.0.0

# Git이 중간값을 체크아웃함
# 현재 커밋에서 테스트
$ npm test

# 4. 버그가 있으면
$ git bisect bad

# 버그가 없으면
$ git bisect good

# 5. 반복. Git이 이진 탐색으로 빠르게 찾음

# 6. 완료
$ git bisect reset
</code></pre>

<p>만약 자동화하고 싶다면:</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# 테스트 스크립트를 실행해서 자동으로 bisect
$ git bisect start
$ git bisect bad
$ git bisect good v1.0.0

# 테스트 명령어 실행 (0 = good, 1 = bad)
$ git bisect run npm test

# Git이 자동으로 good/bad를 판단하고 진행
</code></pre>

<p>우리 프로젝트에서 버그를 찾은 사례:</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# 성능 저하가 발생했는데 정확한 원인을 모름
$ git bisect start
$ git bisect bad HEAD  # 현재: 느림
$ git bisect good v2.1.0  # 2주 전: 빠름

# Git이 500개의 커밋을 이진 탐색
# 약 9번의 검사로 원인 커밋 찾음

# Bisect run으로 자동화
$ git bisect run ./measure-performance.sh

# 결과: "Add caching layer for user profiles" 커밋이 버그 원인
</code></pre>

<h3>Reflog로 데이터 복구하기</h3>

<p>우리가 처음 이야기한 <code>git reset --hard</code> 사건이 여기다.</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# 내가 실수로 한 일
$ git reset --hard origin/main  # 3일치 작업 사라짐

# 하지만 reflog는 모든 HEAD 이동 기록을 가지고 있다
$ git reflog

# 출력:
# abc1234 (HEAD -> main) HEAD@{0}: reset: moving to origin/main
# def5678 HEAD@{1}: commit: Add user authentication
# ghi9012 HEAD@{2}: commit: Add login form
# jkl3456 HEAD@{3}: commit: WIP: user auth

# 내 작업은 ghi9012에 있다!
$ git reset --hard ghi9012

# 또는 특정 커밋으로
$ git checkout def5678
</code></pre>

<p>이 명령어가 내 작업을 구해줬다. reflog는 최소 30일간 데이터를 유지한다.</p>

<h3>고급 패턴들</h3>

<p>몇 가지 더 유용한 패턴들:</p>

<pre><code>&lt;?xml version="1.0"?&gt;
# 1. Rebase 중 충돌 해결
$ git rebase main
# 충돌 발생
$ vim src/file.ts  # 수정
$ git add src/file.ts
$ git rebase --continue

# 2. 잘못된 rebase 취소
$ git rebase --abort

# 3. 여러 브랜치를 하나로 (squash merge)
$ git merge feature/branch --squash
$ git commit -m "Merge feature"

# 4. 특정 커밋의 변경사항만 역적용
$ git revert abc1234
# 새로운 커밋이 생김 (히스토리 유지)

# 5. 커밋 메시지 수정
$ git commit --amend -m "New message"
$ git push --force-with-lease

# 6. 이전 버전으로 돌아가기 (히스토리 유지)
$ git revert abc1234..def5678
# 해당 범위의 커밋들을 역적용하는 새 커밋들 생성
</code></pre>

<h3>팀 환경에서의 주의사항</h3>

<p>Git의 고급 기능들은 강력하지만, 팀 환경에서 조심해야 한다.</p>

<ul>
<li><code>--force</code> 사용은 신중하게. 대신 <code>--force-with-lease</code> 사용</li>
<li>Public 브랜치(main, develop)에서 rebase는 금지</li>
<li>Cherry-pick도 팀 규칙 확인 후 사용</li>
<li>Rebase는 로컬 브랜치에서만</li>
<li>Merge와 rebase의 일관성 유지</li>
</ul>

<h3>마무리</h3>

<p>Git의 고급 기능들은 처음엔 복잡해 보인다. 하지만 실전에서 써보면 정말 강력하다. 깔끔한 히스토리, 빠른 버그 찾기, 안전한 복구 — 이 모든 게 가능하다.</p>

<p>그리고 가장 중요한 건 <code>git reflog</code>를 기억하는 것이다. 이게 있으면 웬만한 실수는 복구할 수 있다.</p>


      <div class="author-box">
        <div class="author-avatar">iL</div>
        <div class="author-info">
          <strong>ian.lab</strong>
          <p>28년 경력의 개발자. 실무에서 겪은 문제와 해결 과정을 기록합니다. 오류 제보는 <a href="/contact.html" style="color:var(--accent)">연락처</a>로 보내주세요.</p>
        </div>
      </div>

      <div class="related-posts">
        <h3>관련 글 더 보기</h3>
        <div class="related-list">
        <a class="related-item" href="/posts/post-11.html">
          <span class="ri-cat">개발 기초 &amp; 팁</span>
          <span class="ri-title">E2E 테스트 flaky 줄이기 — 실패 원인을 구조적으로 제거하는 방법</span>
        </a>
        <a class="related-item" href="/posts/post-72.html">
          <span class="ri-cat">개발 기초 &amp; 팁</span>
          <span class="ri-title">정규표현식 실전 패턴 — 매번 검색하는 것들 총정리</span>
        </a>
        <a class="related-item" href="/posts/post-79.html">
          <span class="ri-cat">개발 기초 &amp; 팁</span>
          <span class="ri-title">개발자가 알면 좋은 네트워크 기초 — DNS부터 TCP까지</span>
        </a>
        </div>
      </div>
    </article>
</main>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-links">
        <a href="/">홈</a>
        <a href="/archive.html">전체 글</a>
        <a href="/about.html">소개</a>
        <a href="/contact.html">연락처</a>
        <a href="/editorial-policy.html">운영 원칙</a>
        <a href="/privacy.html">개인정보처리방침</a>
        <a href="/terms.html">이용약관</a>
      </div>
      <div class="footer-copy">
        &copy; 2026 DevInsight. All rights reserved.<br>
        기술 정보는 실제 사용 환경에 맞게 검토 후 적용하세요.
      </div>
    </div>
  </footer>
</body>
</html>