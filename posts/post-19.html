<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="useDebounce, useLocalStorage, useMediaQuery, usePrevious, useIntersectionObserver, useFetch 등">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://ikakao.kr/posts/post-19.html">
  <title>React Hook 커스텀 패턴 — 실무에서 자주 쓰는 10가지 | Goldtag</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.min.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2446729462046987"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/gowun-batang@5.0.20/700.css">
  <link rel="stylesheet" href="/style.css">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "React Hook 커스텀 패턴 — 실무에서 자주 쓰는 10가지",
    "author": { "@type": "Person", "name": "ian.lab" },
    "publisher": { "@type": "Person", "name": "ian.lab" },
    "datePublished": "2025-05-20",
    "mainEntityOfPage": { "@type": "WebPage", "@id": "https://ikakao.kr/posts/post-19.html" }
  }
  </script>
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <a class="logo" href="/">Gold<span>tag</span></a>
      <nav class="nav-links" aria-label="주요 메뉴">
        <a href="/">홈</a>
        <a href="/archive.html">전체 글</a>
        <a href="/about.html">소개</a>
        <a href="/contact.html">연락처</a>
      </nav>
    </div>
  </header>

  <div class="container-narrow">
    <nav class="breadcrumb" aria-label="경로">
      <a href="/">홈</a><span class="sep">/</span>
      <a href="/archive.html">Frontend</a><span class="sep">/</span>
      <span>현재 글</span>
    </nav>
  </div>

  <main class="post-wrap">
    <article class="post-card">
      <h1>React Hook 커스텀 패턴 — 실무에서 자주 쓰는 10가지</h1>
      <p class="meta">게시일: 2025년 5월 20일 · 16분 읽기</p>

<p>매번 새로 만들다가 결국 사내 hook 라이브러리를 만들었다. 이 10개 hook만 있어도 대부분의 프로젝트를 커버할 수 있다.</p>

<h3>1. useDebounce</h3>

<pre><code>function useDebounce&lt;T&gt;(value: T, delay: number = 500): T {
    const [debouncedValue, setDebouncedValue] = useState(value);

    useEffect(() => {
        const timer = setTimeout(() => {
            setDebouncedValue(value);
        }, delay);

        return () => clearTimeout(timer);
    }, [value, delay]);

    return debouncedValue;
}
</code></pre>

<h3>2. useLocalStorage</h3>

<pre><code>function useLocalStorage&lt;T&gt;(key: string, initialValue: T) {
    const [storedValue, setStoredValue] = useState&lt;T&gt;(() => {
        try {
            const item = window.localStorage.getItem(key);
            return item ? JSON.parse(item) : initialValue;
        } catch {
            return initialValue;
        }
    });

    const setValue = (value: T | ((val: T) => T)) => {
        try {
            const valueToStore = value instanceof Function ? value(storedValue) : value;
            setStoredValue(valueToStore);
            window.localStorage.setItem(key, JSON.stringify(valueToStore));
        } catch (error) {
            console.error(error);
        }
    };

    return [storedValue, setValue] as const;
}

// 사용
function App() {
    const [theme, setTheme] = useLocalStorage('theme', 'light');
    return &lt;button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}&gt;Toggle&lt;/button&gt;;
}
</code></pre>

<h3>3. useMediaQuery</h3>

<pre><code>function useMediaQuery(query: string): boolean {
    const [matches, setMatches] = useState(false);

    useEffect(() => {
        const mediaQuery = window.matchMedia(query);
        setMatches(mediaQuery.matches);

        const handler = (e: MediaQueryListEvent) => setMatches(e.matches);
        mediaQuery.addEventListener('change', handler);

        return () => mediaQuery.removeEventListener('change', handler);
    }, [query]);

    return matches;
}

// 사용
function ResponsiveComponent() {
    const isMobile = useMediaQuery('(max-width: 768px)');
    return isMobile ? &lt;MobileView /&gt; : &lt;DesktopView /&gt;;
}
</code></pre>

<h3>4. usePrevious</h3>

<pre><code>function usePrevious&lt;T&gt;(value: T): T | undefined {
    const ref = useRef&lt;T&gt;();

    useEffect(() => {
        ref.current = value;
    }, [value]);

    return ref.current;
}
</code></pre>

<h3>5. useIntersectionObserver</h3>

<pre><code>function useIntersectionObserver(
    ref: RefObject&lt;HTMLElement&gt;,
    options: IntersectionObserverInit = {}
): IntersectionObserverEntry | null {
    const [entry, setEntry] = useState&lt;IntersectionObserverEntry | null&gt;(null);

    useEffect(() => {
        if (!ref.current) return;

        const observer = new IntersectionObserver(([entry]) => {
            setEntry(entry);
        }, options);

        observer.observe(ref.current);

        return () => observer.disconnect();
    }, [ref, options]);

    return entry;
}

// 사용: 이미지 lazy loading
function LazyLoadImage() {
    const ref = useRef&lt;HTMLImageElement&gt;(null);
    const entry = useIntersectionObserver(ref);

    return (
        &lt;img
            ref={ref}
            src={entry?.isIntersecting ? 'image.jpg' : 'placeholder.jpg'}
        /&gt;
    );
}
</code></pre>

<h3>6. useFetch</h3>

<pre><code>interface UseFetchState&lt;T&gt; {
    data: T | null;
    loading: boolean;
    error: Error | null;
}

function useFetch&lt;T&gt;(url: string): UseFetchState&lt;T&gt; {
    const [state, setState] = useState&lt;UseFetchState&lt;T&gt;&gt;({
        data: null,
        loading: true,
        error: null,
    });

    useEffect(() => {
        const controller = new AbortController();

        (async () => {
            try {
                const response = await fetch(url, { signal: controller.signal });
                const data = await response.json();
                setState({ data, loading: false, error: null });
            } catch (error) {
                setState({ data: null, loading: false, error: error as Error });
            }
        })();

        return () => controller.abort();
    }, [url]);

    return state;
}

// 사용
function UserProfile() {
    const { data, loading, error } = useFetch('/api/user/123');

    if (loading) return &lt;div&gt;Loading...&lt;/div&gt;;
    if (error) return &lt;div&gt;Error: {error.message}&lt;/div&gt;;

    return &lt;div&gt;{data?.name}&lt;/div&gt;;
}
</code></pre>

<h3>추가 패턴</h3>

<p>다른 유용한 hook들:</p>

<ul>
<li>useAsync: 비동기 작업 처리 및 캐싱</li>
<li>useToggle: boolean 상태 토글</li>
<li>useMounted: hydration mismatch 방지</li>
<li>useUpdateEffect: mount 때 실행 안 함</li>
</ul>

<h3>Hook 라이브러리화</h3>

<p>이 hook들을 npm 패키지로 만들어 팀이 공유할 수 있다:</p>

<pre><code>// package.json
{
    "name": "@company/react-hooks",
    "version": "1.0.0",
    "main": "dist/index.js",
    "types": "dist/index.d.ts"
}

// index.ts
export { useDebounce } from './useDebounce';
export { useLocalStorage } from './useLocalStorage';
export { useMediaQuery } from './useMediaQuery';
export { usePrevious } from './usePrevious';
export { useIntersectionObserver } from './useIntersectionObserver';
export { useFetch } from './useFetch';
</code></pre>

<p>모든 프로젝트에서:</p>

<pre><code>import { useDebounce, useLocalStorage, useFetch } from '@company/react-hooks';
</code></pre>

<h3>결론</h3>

<p>이 10개 hook만 있어도 대부분의 React 프로젝트를 커버할 수 있다. 매번 새로 만드는 대신, 라이브러리로 만들어 팀이 공유하면 개발 속도가 크게 올라간다.</p>


      <div class="author-box">
        <div class="author-avatar">iL</div>
        <div class="author-info">
          <strong>ian.lab</strong>
          <p>실무 개발자입니다. 현장에서 겪은 문제와 해결 과정을 기록합니다. 오류 제보는 <a href="/contact.html">연락처</a>로 보내주세요.</p>
        </div>
      </div>

      <div class="related-posts">
        <h3>관련 글 더 보기</h3>
        <div class="related-list">
        <a class="related-item" href="/posts/post-02.html">
          <span class="ri-cat">Frontend</span>
          <span class="ri-title">TypeScript 5.x 실전 타입 패턴 — 유지보수 비용을 줄이는 방법</span>
        </a>
        <a class="related-item" href="/posts/post-21.html">
          <span class="ri-cat">Frontend</span>
          <span class="ri-title">Vite 설정 최적화 — 빌드 속도와 개발 경험 동시에 잡기</span>
        </a>
        <a class="related-item" href="/posts/post-76.html">
          <span class="ri-cat">Frontend</span>
          <span class="ri-title">CSS-in-JS 없이 스타일링 — CSS Modules + Tailwind 실전 조합</span>
        </a>
        </div>
      </div>
    </article>
</main>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-links">
        <a href="/">홈</a>
        <a href="/archive.html">전체 글</a>
        <a href="/about.html">소개</a>
        <a href="/contact.html">연락처</a>
        <a href="/editorial-policy.html">운영 원칙</a>
        <a href="/privacy.html">개인정보처리방침</a>
        <a href="/terms.html">이용약관</a>
      </div>
      <div class="footer-copy">
        &copy; 2026 Goldtag. All rights reserved.<br>
        기술 정보는 실제 사용 환경에 맞게 검토 후 적용하세요.
      </div>
    </div>
  </footer>
</body>
</html>